require 'aws-sdk'
	

# Getting an SQS object
aws_config = {access_key_id: "AKIAJTPGKC25LGKJUCTA", secret_access_key: "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"}
AWS.config(aws_config)

sqs = AWS::SQS.new


failed_remakes = [
["53ecdebe0be0440cdc000009", "4", "53ecdebe0be0440cdc000009_4_1408033185"],
["53ee5f2f0be0445d5d00000b", "4", "53ee5f2f0be0445d5d00000b_4_1408130935"],
["53ee10210be0443520000008", "3", "53ee10210be0443520000008_3_1408131956"],
["53ee6d690be0446c45000006", "4", "53ee6d690be0446c45000006_4_1408134566"],
["53ee820f0be0447547000009", "3", "53ee820f0be0447547000009_3_1408140176"],
["53ee91a90be044754700001e", "4", "53ee91a90be044754700001e_4_1408143946"],
["53ef08270be0443897000015", "4", "53ef08270be0443897000015_4_1408174688"],
["53ef61560be0447457000003", "3", "53ef61560be0447457000003_3_1408197296"],
["53efbd5a0be04428b9000004", "3", "53efbd5a0be04428b9000004_3_1408220613"],
["53f018a80be0445c23000008", "3", "53f018a80be0445c23000008_3_1408243973"],
["53f0b3480be044333e00000d", "3", "53f0b3480be044333e00000d_3_1408283534"],
["53f0fe0b0be0445ecc000001", "4", "53f0fe0b0be0445ecc000001_4_1408302848"],
["53f128290be0447785000001", "4", "53f128290be0447785000001_4_1408313590"],
["53f1e5500be0445cff000003", "3", "53f1e5500be0445cff000003_3_1408361898"],
["53f20ac20be044732b000007", "4", "53f20ac20be044732b000007_4_1408371490"],
["53f222480be04475b8000014", "3", "53f222480be04475b8000014_3_1408377668"],
["53f2ee050be0447036000001", "4", "53f2ee050be0447036000001_4_1408429755"],
["53f3521d0be0442536000008", "3", "53f3521d0be0442536000008_3_1408455345"],
["53f3d4250be04469b6000011", "3", "53f3d4250be04469b6000011_3_1408488532"],
["53f4b4a30be04468aa000002", "3", "53f4b4a30be04468aa000002_3_1408546087"],
["53f4db890be0447c81000008", "3", "53f4db890be0447c81000008_3_1408557091"],
["53f4ebf60be0440625000003", "3", "53f4ebf60be0440625000003_3_1408560240"],
["53f510ee0be0441c67000002", "4", "53f510ee0be0441c67000002_4_1408569785"],
["53f525dc0be0441f7c00000b", "3", "53f525dc0be0441f7c00000b_3_1408575043"],
["53f541030be04433c0000001", "3", "53f541030be04433c0000001_3_1408581964"],
["53f608300be0441f65000002", "4", "53f608300be0441f65000002_4_1408633003"],
["53f6c24e0be0447cfc000005", "3", "53f6c24e0be0447cfc000005_3_1408680535"],
["53f6a7f60be04474e3000003", "4", "53f6a7f60be04474e3000003_4_1408715770"],
["53f751dd0be0445511000001", "4", "53f751dd0be0445511000001_4_1408717427"],
["53f76d190be0445511000008", "4", "53f76d190be0445511000008_4_1408724421"],
["53f7bf230be0440444000006", "3", "53f7bf230be0440444000006_3_1408745527"],
["53f7f0ac0be044238c000005", "3", "53f7f0ac0be044238c000005_3_1408757996"],
["53f87e5b0be044495c00000b", "4", "53f87e5b0be044495c00000b_4_1408794266"],
["53f8803b0be044772d000001", "4", "53f8803b0be044772d000001_4_1408794736"],
["53f891c60be0447ee5000006", "3", "53f891c60be0447ee5000006_3_1408799439"],
["53f8aec70be0440ae0000008", "4", "53f8aec70be0440ae0000008_4_1408896667"],
["53f8e7fb0be0442ecf000002", "3", "53f8e7fb0be0442ecf000002_3_1408821714"],
["53f8fe320be04439db000005", "3", "53f8fe320be04439db000005_3_1408827263"],
["53f930340be044569a000001", "4", "53f930340be044569a000001_4_1408840082"],
["53f999cc0be0440b50000007", "3", "53f999cc0be0440b50000007_3_1408866933"],
["53f99b1f0be0440b50000008", "4", "53f99b1f0be0440b50000008_4_1408867253"],
["53f9f3d70be04416f8000018", "3", "53f9f3d70be04416f8000018_3_1408889862"],
["53fa1bbd0be0445662000001", "4", "53fa1bbd0be0445662000001_4_1408900136"],
["53fa73a90be0440355000007", "4", "53fa73a90be0440355000007_4_1408922782"],
["53fa8c420be0440b15000005", "4", "53fa8c420be0440b15000005_4_1408928888"],
["53fa9da80be0441d81000005", "4", "53fa9da80be0441d81000005_4_1408933362"],
["53fab8610be044202a000014", "3", "53fab8610be044202a000014_3_1408940183"]]

# Getting the ProcessFootageQueue
process_footage_queue_url = "https://sqs.us-east-1.amazonaws.com/509268258673/ProcessFootageQueue"
process_footage_queue = sqs.queues[process_footage_queue_url]

puts process_footage_queue.url

for failed_algo in failed_remakes do
	remake_id = failed_algo[0]
	scene_id = failed_algo[1]
	take_id = failed_algo[2]

	message = {remake_id: remake_id, scene_id: scene_id, take_id: take_id}
	process_footage_queue.send_message(message.to_json)
end


